<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callbackhell-Promise</title>
</head>
<body>
  <h1 class="countdown">10</h1>
  <script>
      const count = (countdown) => new Promise((resolve,reject)=>{
          if(countdown > 0) {
              setTimeout(() => {
                  document.querySelector(".countdown").innerText=countdown;
                  resolve(countdown)
              }, 300)
          }else{
              reject("End");
          }
      });

      count(9)

      .then((n)=>count(--n))
      .then((n)=>count(--n))
      .then((n)=>count(--n))
      .then((n)=>count(--n))
      .then((n)=>count(--n))
      .then((n)=>count(--n))
      .then((n)=>count(--n))
      .then((n)=>count(--n))
      .catch(()=>{
          setTimeout(()=>{
              document.querySelector(".countdown").innerText="Happy Independence Day";
          },300);
      });
      
    //   .then(
    //       ()=>console.log("success path"),
    //       ()=>{
    //           setTimeout(()=>{
    //               document.querySelector(".countdown").innerText="Happy Independence Day"
    //           }, 300);
    //       }
    //    );
      
</script>
</body>
</html>